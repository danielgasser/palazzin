var putPeriodsToCalendar=function(a,b){"use strict";var c=[],d=new Date,e=new Date;jQuery.each(a,function(a,f){c=f.period_start_js.split("_"),e.setFullYear(c[0]),e.setMonth(c[1]-1),e.setDate(c[2]),e.setMinutes(0),e.setSeconds(0),c=f.period_end_js.split("_"),d.setFullYear(c[0]),d.setMonth(c[1]-1),d.setDate(c[2]),d.setMinutes(0),d.setSeconds(0);do $(b+e.getFullYear()+"_"+window.smallerThenTen(e.getMonth()+1)+"_"+window.smallerThenTen(e.getDate())).addClass(f.clan_code),e.setDate(e.getDate()+1);while(e.getTime()<=d.getTime())})};!function(a){"use strict";a.fn.timeLiner=function(b){var c,d,e,f,g=a.extend({startDate:null,endDate:null,showObject:null},b),h=10,i="",j=function(a,b){return new Date(Date.UTC(b,a,0)).getDate()};return a.each(a(g.showObject),function(){a(this).html("")}),this.each(function(b,k){var l,m,n=null===g.startDate?[]:g.startDate.split("."),o=0,p={month:"long"},q=[],r=null===g.startDate?[]:g.endDate.split("."),s=null===g.startDate?new Date:new Date(Date.UTC(n[2],n[1],n[0],0,0,0,0,0));for(s.setDate(1),null===g.endDate?(m=s,m.setMonth(m.getMonth()+1),m.setDate(0)):m=new Date(Date.UTC(r[1],r[0],0,0,0,0,0)),f=a(g.showObject)[b];m>=s;){d=k.id,e=s.getFullYear()+"-"+window.smallerThenTen(s.getMonth()+1)+"-"+window.smallerThenTen(s.getDate()),c=d+s.getFullYear()+window.smallerThenTen(s.getMonth()+1)+window.smallerThenTen(s.getDate()),a("<div></div>").prop({id:c,title:s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear()}).addClass("graph-unit-container").html('<div class="graph-unit-day">'+s.getDate()+"</div>").appendTo(f),a("#"+c).append('<div style="height: 0" class="graph-unit" id="'+d+s.getTime()+'"></div>');for(o in k.userDates)e===k.userDates[o].updated_at&&(i===k.userDates[o].updated_at?h+=10:h=10,i=k.userDates[o].updated_at,a("#"+d+s.getTime()).css("height",parseInt(h/3,10)+"px").prop("title",k.userDates[o].created_at+" | "+h/10+" Logins").html('<div class="graph-unit-logins-day">'+h/10+"</div>"),a("#"+c).parent(".long-right").css("margin-top",window.parseInt(h/40+.5)+"%"),q.push(h)),l=Math.max.apply(Math,q),a("#"+c).css("height",parseInt(h/2,10)-2+"px");s.getDate()===j(s.getMonth()+1,s.getFullYear())&&a("<div></div>").addClass("graph-month").html(s.toLocaleDateString(window.locale,p)+" "+s.getFullYear()).appendTo(f),s.setDate(s.getDate()+1)}a("<div></div>").addClass("break").appendTo(f)})}}(jQuery);