!function(a){"use strict";a.fn.timeLiner=function(b){var c,d,e,f,g=a.extend({startDate:null,endDate:null,showObject:null},b),h=10,i="",j=function(a,b){return new Date(b,a,0).getDate()};return a.each(a(g.showObject),function(){a(this).html("")}),this.each(function(b,k){var l,m,n=g.startDate.split("."),o=0,p={month:"long"},q=[],r=g.endDate.split("."),s=null===g.startDate?new Date:new Date(n[1],n[0],0,0,0,0,0);for(s.setDate(1),null===g.endDate?(m=s,m.setMonth(m.getMonth()+1),m.setDate(0)):m=new Date(r[1],r[0],0,0,0,0,0),f=a(g.showObject)[b];m>=s;){d=k.id,e=s.getFullYear()+"-"+window.smallerThenTen(s.getMonth()+1)+"-"+window.smallerThenTen(s.getDate()),c=d+s.getFullYear()+window.smallerThenTen(s.getMonth()+1)+window.smallerThenTen(s.getDate()),a("<div></div>").prop({id:c,title:s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear()}).addClass("graph-unit-container").html('<div class="graph-unit-day">'+s.getDate()+"</div>").appendTo(f),a("#"+c).append('<div style="height: 0" class="graph-unit" id="'+d+s.getTime()+'"></div>');for(o in k.userDates)e===k.userDates[o].updated_at&&(i===k.userDates[o].updated_at?h+=10:h=10,i=k.userDates[o].updated_at,a("#"+d+s.getTime()).css("height",parseInt(h/3,10)+"px").prop("title",k.userDates[o].created_at+" | "+h/10+" Logins").html('<div class="graph-unit-logins-day">'+h/10+"</div>"),a("#"+c).parent(".long-right").css("margin-top",window.parseInt(h/40+.5)+"%"),q.push(h)),l=Math.max.apply(Math,q),a("#"+c).css("height",parseInt(h/2,10)-2+"px");s.getDate()===j(s.getMonth()+1,s.getFullYear())&&a("<div></div>").addClass("graph-month").html(s.toLocaleDateString(window.locale,p)+" "+s.getFullYear()).appendTo(f),s.setDate(s.getDate()+1)}a("<div></div>").addClass("break").appendTo(f)})}}(jQuery);var setNavActive=function(a){"use strict";var b=$(a),c=window.location.pathname.split("/"),d=c[c.length-1];b.removeClass("active"),0===d.length&&$('a[href="/"]').parent().addClass("active"),$('a[href$="'+d+'"]').parent().addClass("active")},replaceTitleThreeParts=function(a,b,c,d,e){"use strict";$(b).html(a.startTextDate),e?($(d).hide(),$(c).hide()):($(d).show(),$(c).show(),$(d).html(a.endTextDate))},searchLogins=function(a,b){"use strict";{var c;$("#endMonthChoice"),$("#endYearChoice"),$("#startMonthChoice"),$("#startYearChoice")}$.ajax({type:"POST",url:b,data:{searchParams:a},success:function(a){var b,d,e=$("#loginDataContent"),f=$("#error-no-login-data");return f.length>0&&f.remove(),e.children().show(),a.monthBigger||a.yearBigger||void 0===a.length?(e.children().hide(),e.prepend('<div id="error-no-login-data" class="error">'+a.error+"</div>"),!1):(b=a[0].startDate,d=a[0].endDate,c=a,$(c).timeLiner({showObject:".timer",startDate:b,endDate:d}),void replaceTitleThreeParts(a[0],"#titleStart","#between","#titleEnd",b===d))}})},getAllCookies=function(a){"use strict";var b,c,d=a+"=",e=document.cookie.split(";");for(b=0;b<e.length;b+=1){for(c=e[b];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(d))return c.substring(d.length,c.length)}return""},countIt=function(a){"use strict";var b=0;return $.each($(a),function(a,c){b+=parseInt(c.innerHTML,10)}),b},smallerThenTen=function(a){"use strict";return 10>a?"0"+a:a},getAppSettings=function(a){"use strict";$.ajax({type:"GET",url:a,success:function(a){window.console.log(a)}})},getRoles=function(a,b){"use strict";$.ajax({type:"POST",url:a,data:{id:b},success:function(a){var b=jQuery.parseJSON(a),c="",d=[];jQuery("#no_role").length>0&&jQuery("#no_role").hide(),c+='<tr id="role_'+b.id+'"><td id="deleteRole_'+b.id+"_"+b.role_c+'"><span class="btn btn-sm glyphicon glyphicon-remove" aria-hidden="true"></span></td><td>'+b.role_code+"<td>"+b.role_tax_annual+"</td><td>"+b.role_tax_night+"</td><td>"+b.role_tax_stock+"</td><td><ul>",jQuery.each(b.role_rights,function(a,b){c+="<li>"+b+"</li>"}),c+="</ul></td></tr>",jQuery('#role_id option[value="'+b.id+'"]').remove(),jQuery("#roles").append(c),jQuery.each(jQuery('[id^="deleteRole_"]'),function(a,b){d.push(b.id.split("_")[1])}),jQuery("#role_id_add").val(d.join(",")),window.console.log(d)}})},roleFromToUser=function(a,b,c){"use strict";$.ajax({type:"POST",url:a,data:{role_id:b,id:c},success:function(){window.location.reload()}})},deleteUser=function(a){"use strict";$.ajax({type:"POST",url:a,success:function(a){window.console.log(a),window.location.reload()}})},rightFromRole=function(a,b,c){"use strict";$.ajax({type:"POST",url:a,data:{right_id:b,role_id:c},success:function(){window.location.reload()}})},editRole=function(a,b){"use strict";$.ajax({type:"POST",url:a,data:{role_id:b},success:function(){window.location.reload()}})},activateUser=function(a,b,c){"use strict";$.ajax({type:"POST",url:a,data:{userActive:b,id:c},success:function(){window.location.reload()}})},getAuthUser=function(){"use strict";$.ajax({type:"GET",url:"reservation/getuser",async:!1,success:function(a){return a}})},adaptInputs=function(){"use strict";return!1},disableDateInputsBeforeToday=function(){"use strict";var a,b,c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),$.each($("input[type=date]"),function(d,e){""!==e.value&&(a=e.value.split("-"),b=new Date(a[0],a[1]-1,a[2],0,0,0,0),c.getTime()>b.getTime()?$(e).attr("readonly",!0):$(e).removeAttr("readonly"))})},disableInputsBeforeToday=function(a,b){"use strict";var c=new Date;c.setHours(0),c.setMinutes(0),c.setSeconds(0),c.setMilliseconds(0),$.each(b,function(b,d){c.getTime()>a.getTime()&&$(d).attr("readonly",!0)})},isYesterDay=function(a){"use strict";var b=new Date;return b.setHours(0),b.setMinutes(0),b.setSeconds(0),b.setMilliseconds(0),b.getTime()>a.getTime()},invalidInputMessages=function(a,b){"use strict";a.oninvalid=function(a){a.target.setCustomValidity(""),a.target.validity.valid||a.target.setCustomValidity(window.langRes.warnings[b])}};